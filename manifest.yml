app:
  id: ari:cloud:ecosystem::app/de82f3f1-fde6-4f0d-a29c-e36c2e1e58e7
  runtime:
    architecture: arm64
    memoryMB: 256
    name: nodejs24.x
modules:
  rovo:agent:
    - key: forge-rovo-guardrail-techsummit
      name: Tech Summit Judge
      description: An agent for judging agent instructions
      actions:
        - read-page
        - log-assessment
      conversationStarters:
        - Assess this page for the Tech Summit agent score
      prompt: resource:agent-prompts;agent-instructions.md
  action:
    - key: read-page
      name: Read a Confluence page
      description: Read the current page from the Rovo context
      actionVerb: GET
      function: fetchPage
      inputs:
        pageId:
          title: Page ID
          description: The ID of the Page to be fetched.
          required: false
          type: string
    - key: log-assessment
      name: Log an assessment result
      description: >
        When the agent performs assessment,
        this action logs the result to the Forge logs.
      actionVerb: GET
      function: logAssessment
      inputs:
        assessment:
          title: Assessment
          description: >
            The assessment that the has been performed on an issue
          required: true
          type: string
  trigger:
    - key: trigger-lifecycle
      events:
        - avi:forge:installed:app
        - avi:forge:upgraded:app
      function: lifecycle-handler
  webtrigger:
    - key: dev-trigger
      function: trigger
      response:
        type: dynamic
  function:
    - key: fetchPage
      handler: index.fetchPage
    - key: trigger
      handler: index.trigger
    - key: lifecycle-handler
      handler: index.lifecycle
    - key: logAssessment
      handler: index.logAssessment
permissions:
  scopes:
    - read:page:confluence
    - read:confluence-user
resources:
  - key: agent-prompts
    path: prompts
